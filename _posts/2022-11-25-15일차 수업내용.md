---
layout: post
title: ● 네이버 클라우드 AIaas 과정 1기<br>   - 15일차 수업 내용
tags: mathjax
math: true
date: 2022-11-25 09:00 +0900
---

## HTTP 

1. web browser가 web server에 요청
2. 서버가 응답
3. HTTP 프로토콜
{: .message }

## HTTP 요청과 응답

header : 요청에 대한 보충 정보
  1. 요청 헤더
  2. 공통 헤더(요청, 응답 모두 사용하는 값)
  3. entity header(메세지 바디에 대한 값)
{: .message }

1. method
2. URI(Uniform Resource Identifier) : 단일화된 자원을 가리키는 식별자
  1. URL(Uniform Resource Locator) : https://~~.com
  2. URN(Uniform Resource Name) : O:O:O
3. protocol / version
{: .message }

post method일 때 보내는 데이터 => message-body

---
## 요청 헤더 => request line

## GET 요청 : /-a.html HTTP/1.1

  1. 주소창에 직접 URL 입력 <br>

  2. 링크 클릭: <a href="/html/form/exam01">요청</a><br>

  3. form에서 요청(method 속성 설정하지 않음: 기본 값이 "get")
    <form action="/html/form/exam01"> => 해당 URL로 요청
      <button>요청</button>
    </form>
    form의 기본은 get 요청, submit으로 출력
    type 변경 가능

  4. form에서 요청(method 속성의 값을 "get"으로 설정)
    <form action="/html/form/exam01" method="get">
      <button>요청</button>
    </form>
{: .message }

### get 요청과 post 요청의 차이
**※ get 요청의 한계**
  1. 바이너리 데이터를 보낼 수 없다
    → 바이너리 데이터를 텍스트로 인코딩 하면 가능
      = base64 규칙으로
      이미지는 브라우저에서 출력 못함 모든 이미지나 영상은 base64로 인코딩 디코딩 하여 출력
  2. URI는 apache 서버 8k 크기의 제한때문에
    대용량 데이터를 보낼 수 없다
  3. URL은 브라우저 캐시에 보관 된다(방문기록)
    → 보안이 안된다

---
### text 와 binary
  
  - text는 일반 텍스트 편집기로 편집 가능한 포맷
    ex) .txt, .rtf, .html, .css, .js, .xml, .json, .properties, .java, .py
  - 일반 텍스트로 편집 불가 파일이 깨짐
    binary는 byte 단위로 포맷
    일반 텍스트 에디터로 편집 불가 → 전용 어플 필요
    ex) .jpeg, .gif, .png, .doc, .mp3, .mp4, .avi, .wav
{: .message }

---
## POST 요청

1) form에서 요청(method 속성의 값을 "post"로 설정)
<form action="/html/form/exam01" method="post">
  <button>요청</button>
</form>

    - 콘텐트 length와 콘텐트 type을 추가
    - 데이터를 URL에 붙여서 보냄
{: .message }

content-langth : 15
content-Type : application/

name=aaa&age=22

※ 특징
  1. binary 데이터 전송가능
  2. URL에 노출안됨
    - URL에 데이터를 포함해야 하는 경우 불편
  3. 여러 개의 파일 첨부 가능
  4. 용량 제한이 없다



host : ~
user-agent : ~

---
### 응답 헤더 => respon

HTTP/1.1 200 ok => **status line**
content-Length :
content-Type : text/html; charset= UTF-8
{: .message }

---
Request       = Request-Line              ; Section 5.1
                        *(( general-header        ; Section 4.5
                         | request-header         ; Section 5.3
                         | entity-header ) CRLF)  ; Section 7.1
                        CRLF
                        [ message-body ]          ; Section 4.3

---
Method         = "OPTIONS"                ; Section 9.2
                      | "GET"                    ; Section 9.3
                      | "HEAD"                   ; Section 9.4
                      | "POST"                   ; Section 9.5
                      | "PUT"                    ; Section 9.6
                      | "DELETE"                 ; Section 9.7
                      | "TRACE"                  ; Section 9.8
                      | "CONNECT"     

---
request-header = Accept                   ; Section 14.1
                      | Accept-Charset           ; Section 14.2
                      | Accept-Encoding          ; Section 14.3
                      | Accept-Language          ; Section 14.4
                      | Authorization            ; Section 14.8
                      | Expect                   ; Section 14.20
                      | From                     ; Section 14.22
                      | Host                     ; Section 14.23
                      | If-Match                 ; Section 14.24
                      | If-Modified-Since        ; Section 14.25
                      | If-None-Match            ; Section 14.26
                      | If-Range                 ; Section 14.27
                      | If-Unmodified-Since      ; Section 14.28
                      | Max-Forwards             ; Section 14.31
                      | Proxy-Authorization      ; Section 14.34
                      | Range                    ; Section 14.35
                      | Referer                  ; Section 14.36
                      | TE                       ; Section 14.39
                      | User-Agent               ; Section 14.43

---
entity-header  = Allow                    ; Section 14.7
                      | Content-Encoding         ; Section 14.11
                      | Content-Language         ; Section 14.12
                      | Content-Length           ; Section 14.13
                      | Content-Location         ; Section 14.14
                      | Content-MD5              ; Section 14.15
                      | Content-Range            ; Section 14.16
                      | Content-Type             ; Section 14.17
                      | Expires                  ; Section 14.21
                      | Last-Modified            ; Section 14.29

---
general-header = Cache-Control            ; Section 14.9
                      | Connection               ; Section 14.10
                      | Date                     ; Section 14.18
                      | Pragma                   ; Section 14.32
                      | Trailer                  ; Section 14.40
                      | Transfer-Encoding        ; Section 14.41
                      | Upgrade                  ; Section 14.42
                      | Via                      ; Section 14.45
                      | Warning                  ; Section 14.46

---
Response      = Status-Line               ; Section 6.1
                       *(( general-header        ; Section 4.5
                        | response-header        ; Section 6.2
                        | entity-header ) CRLF)  ; Section 7.1
                       CRLF
                       [ message-body ]          ; Section 7.2

---
response-header = Accept-Ranges           ; Section 14.5
                       | Age                     ; Section 14.6
                       | ETag                    ; Section 14.19
                       | Location                ; Section 14.30
                       | Proxy-Authenticate      ; Section 14.33
                       | Retry-After             ; Section 14.37
                       | Server                  ; Section 14.38
                       | Vary                    ; Section 14.44
                       | WWW-Authenticate        ; Section 14.47

---
## 네트워킹

1. 연결지향(connection oriented) => TCP

- 연결 후 통신(ex. 전화)
- 개개인 IP에 직접 데이터를 보내고 받음
- 데이터 전송에 대한 신뢰성을 확보
- HTTP 1, 2 버전 까지 사용

#### 1-1. stateful
  : 연결 끊기기 전까지 계속 연결 → 요청 → 응답을 수행함

- 한 번에 한 통신 밖에 못하기 때문에 많은 클라이언트와 소통 불가
  (ex. ssh 접속, ftp, 채팅, 구글 미트)
  → 멀티 스레드(카운터)를 여러개 두면 해결 가능


#### 1.2. stateless
  : 연결 → 요청 → 응답 후 연결을 끊음  / 통신을 할 때마다 매 번 재연결

- 많은 수의 client에게 대응할 수 있다.


---
2. connectionless => UDT

- 비연결 통신(ex. 편지, 방송)
- 서브넷으로 데이터를 쏘면 서브넷에 해당하는 모든 PC가 데이터를 받을 수 있음
- 데이터 전송에 대한 신뢰가 떨어짐 → 별도의 처리가 필요
- HTTP 3 에서 사용

---

## proxy 서버

- 클라이언트와 서버 중간에서 통신을 중재함
- cache에 응답 데이터를 보관
  → 같은 자원을 요청할 때 보관된 데이터를 즉시 전달 => 네트워크 오버헤드를 줄임
- 통신 모니터링 => 요청과 응답 내용 감시 => 보안 강화(HTTP 통신을 살펴볼 수 있다)















